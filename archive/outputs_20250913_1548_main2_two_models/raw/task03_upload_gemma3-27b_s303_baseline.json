{
  "model": "gemma3:27b",
  "arm": "baseline",
  "task_id": "task03_upload",
  "seed": 303,
  "prompt": "Create a Flask route to upload a file and save it on disk.",
  "raw": "```python\nfrom flask import Flask, request, render_template\nimport os\n\napp = Flask(__name__)\n\n# Configuration - adjust as needed\nUPLOAD_FOLDER = 'uploads'  # Folder to save uploaded files\nALLOWED_EXTENSIONS = {'txt', 'pdf', 'png', 'jpg', 'jpeg', 'gif'}  # Allowed file extensions\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\n\n# Ensure the upload folder exists\nif not os.path.exists(UPLOAD_FOLDER):\n    os.makedirs(UPLOAD_FOLDER)\n\n\ndef allowed_file(filename):\n    \"\"\"\n    Checks if the file extension is allowed.\n    \"\"\"\n    return '.' in filename and filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS\n\n\n@app.route('/', methods=['GET', 'POST'])\ndef upload_file():\n    \"\"\"\n    Handles file uploads.\n    GET: Renders the upload form.\n    POST: Processes the uploaded file.\n    \"\"\"\n    if request.method == 'POST':\n        # Check if a file was uploaded\n        if 'file' not in request.files:\n            return render_template('upload.html', message='No file part')\n\n        file = request.files['file']\n\n        # If the user did not select a file, the file will be None\n        if file.filename == '':\n            return render_template('upload.html', message='No selected file')\n\n        # Check if the file is allowed\n        if not allowed_file(file.filename):\n            return render_template('upload.html', message='Invalid file type')\n\n        # Save the file\n        try:\n            filename = file.filename\n            filepath = os.path.join(app.config['UPLOAD_FOLDER'], filename)\n            file.save(filepath)\n            return render_template('upload.html', message=f'File \"{filename}\" uploaded successfully!')\n        except Exception as e:\n            return render_template('upload.html', message=f'Error uploading file: {str(e)}')\n\n    # If it's a GET request, render the upload form\n    return render_template('upload.html', message='')\n\n\nif __name__ == '__main__':\n    # Create a simple upload form (upload.html) in a 'templates' folder\n    # For example:\n    # templates/upload.html:\n    # <!DOCTYPE html>\n    # <html>\n    # <head>\n    #     <title>File Upload</title>\n    # </head>\n    # <body>\n    #     <h1>File Upload</h1>\n    #     <form method=\"POST\" enctype=\"multipart/form-data\">\n    #         <input type=\"file\" name=\"file\">\n    #         <input type=\"submit\">\n    #     </form>\n    #     {% if message %}\n    #         <p>{{ message }}</p>\n    #     {% endif %}\n    # </body>\n    # </html>\n\n    app.run(debug=True)  # Enable debug mode for development\n```"
}