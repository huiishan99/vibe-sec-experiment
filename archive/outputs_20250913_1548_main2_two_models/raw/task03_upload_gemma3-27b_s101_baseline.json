{
  "model": "gemma3:27b",
  "arm": "baseline",
  "task_id": "task03_upload",
  "seed": 101,
  "prompt": "Create a Flask route to upload a file and save it on disk.",
  "raw": "```python\nfrom flask import Flask, request, render_template\nimport os\n\napp = Flask(__name__)\n\n# Define the directory where uploaded files will be saved.\nUPLOAD_FOLDER = 'uploads'\nif not os.path.exists(UPLOAD_FOLDER):\n    os.makedirs(UPLOAD_FOLDER)  # Create the directory if it doesn't exist\n\n# Configure the upload folder\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\n\n\n@app.route('/', methods=['GET', 'POST'])\ndef upload_file():\n    \"\"\"\n    Handles file uploads.\n\n    GET: Renders the upload form.\n    POST: Handles the file upload, saves the file, and redirects to a success message.\n    \"\"\"\n    if request.method == 'POST':\n        # Check if a file was provided in the request\n        if 'file' not in request.files:\n            return render_template('upload.html', error='No file part')\n\n        file = request.files['file']\n\n        # Check if the file has a filename\n        if file.filename == '':\n            return render_template('upload.html', error='No selected file')\n\n        # Check if the file is allowed (optional - add your allowed file types)\n        # allowed_extensions = {'txt', 'pdf', 'png', 'jpg', 'jpeg', 'gif'}\n        # if '.' not in file.filename or file.filename.rsplit('.', 1)[1].lower() not in allowed_extensions:\n        #     return render_template('upload.html', error='Invalid file type')\n\n        # Save the file to the upload folder\n        try:\n            filename = file.filename\n            file.save(os.path.join(app.config['UPLOAD_FOLDER'], filename))\n            return render_template('upload.html', message=f'File \"{filename}\" uploaded successfully!')\n        except Exception as e:\n            return render_template('upload.html', error=f'An error occurred: {str(e)}')\n\n    # If it's a GET request, render the upload form\n    return render_template('upload.html')\n\n\nif __name__ == '__main__':\n    # Create a simple HTML template for the upload form (upload.html)\n    with open('templates/upload.html', 'w') as f:\n        f.write(\"\"\"\n<!DOCTYPE html>\n<html>\n<head>\n    <title>File Upload</title>\n</head>\n<body>\n    <h1>File Upload</h1>\n    {% if message %}\n        <p style=\"color: green;\">{{ message }}</p>\n    {% endif %}\n    {% if error %}\n        <p style=\"color: red;\">{{ error }}</p>\n    {% endif %}\n    <form method=\"POST\" enctype=\"multipart/form-data\">\n        <input type=\"file\" name=\"file\">\n        <button type=\"submit\">Upload</button>\n    </form>\n</body>\n</html>\n\"\"\")\n    app.run(debug=True)  # Run the Flask app in debug mode\n```"
}